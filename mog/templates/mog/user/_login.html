{% load i18n %}
{% load security %}

{% if user.is_authenticated %}
    <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
           aria-expanded="false">
            {{ user.username }}
            {% if unseen_messages %}
                ({{ unseen_messages }})
            {% endif %}
            <span class="caret"></span></a>
        <ul class="dropdown-menu">
            <li><a href="{% url 'mog:user_messages' user.id %}"><i class="glyphicon glyphicon-envelope"></i> {% trans 'Messages' %}</a></li>
            <li class="divider"></li>
            <li><a href="{% url 'mog:user' user.id %}"><i class="glyphicon glyphicon-user"></i> {% trans 'View profile' %}</a></li>
            <li><a href="{% url 'mog:user_edit' user.id %}"><i class="glyphicon glyphicon-edit"></i> {% trans 'Edit profile' %}</a></li>
            <li><a href="{% url 'mog:post_create' %}"><i class="glyphicon glyphicon-pencil"></i> {% trans 'Add blog entry' %}</a></li>
            <li class="divider"></li>
            <li><a href="{% url 'mog:feedback_list' %}"><i class="glyphicon glyphicon-exclamation-sign"></i> {% trans 'View feedbacks' %}</a></li>
            {% if user|is_admin %}
            <li><a href="{% url 'mog:view_checker' %}"><i class="glyphicon glyphicon-ok"></i> {% trans 'View checkers' %}</a></li>
            {% endif %}
            <li class="divider"></li>
            <li><a href="{% url 'auth_logout' %}?next={% url 'mog:index' %}"><i class="glyphicon glyphicon-off"></i> {% trans 'Logout' %}</a></li>
        </ul>
    </li>
{% else %}
    <li>
        <a href="{% url 'auth_login' %}">{% trans 'Login' %}</a>
    </li>
    <li>
        <a href="{% url 'registration_register' %}">{% trans 'Register' %}</a>
    </li>
{% endif %}
